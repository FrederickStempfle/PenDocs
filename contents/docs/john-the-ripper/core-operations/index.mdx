---
title: Core Operations
description: Essential commands and basic operations for John the Ripper
---

# Core Operations

This section covers the fundamental operations and commands for using John the Ripper effectively in penetration testing scenarios.

<Tabs defaultValue="basics" className="pt-5 pb-1">
  <TabsList>
    <TabsTrigger value="basics">Basic Commands</TabsTrigger>
    <TabsTrigger value="config">Configuration</TabsTrigger>
    <TabsTrigger value="formats">Hash Formats</TabsTrigger>
  </TabsList>
  <TabsContent value="basics">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 className="font-semibold">Essential Commands</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Basic Syntax</h4>
          <p className="text-sm">The general syntax for John the Ripper is:</p>
          ```bash
          john [options] [password-files]
          ```
          
          <p className="text-sm mt-2">Where:</p>
          <ul className="text-sm list-disc pl-5">
            <li><code>options</code> are the various command-line flags</li>
            <li><code>password-files</code> are the files containing password hashes</li>
          </ul>
        </div>
        
        <div className="mt-4">
          <h4 className="font-bold">Common Options</h4>
          <table className="w-full text-sm mt-2">
            <thead className="bg-muted">
              <tr>
                <th className="text-left p-2">Option</th>
                <th className="text-left p-2">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr className="border-b">
                <td className="p-2"><code>--wordlist=FILE</code></td>
                <td className="p-2">Use wordlist from FILE</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>--rules</code></td>
                <td className="p-2">Enable word mangling rules</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>--format=NAME</code></td>
                <td className="p-2">Force hash type (e.g., raw-md5)</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>--show</code></td>
                <td className="p-2">Show cracked passwords</td>
              </tr>
              <tr>
                <td className="p-2"><code>--test[=TIME]</code></td>
                <td className="p-2">Run tests and benchmarks</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div>
        <h3 className="font-semibold">Example Usage</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Basic Cracking</h4>
          <p className="text-sm">Crack a password file with default settings:</p>
          ```bash
          john password_hashes.txt
          ```
          
          <p className="text-sm mt-2">Using a specific wordlist:</p>
          ```bash
          john --wordlist=/usr/share/wordlists/rockyou.txt password_hashes.txt
          ```
          
          <p className="text-sm mt-2">Specifying a hash format:</p>
          ```bash
          john --format=raw-md5 password_hashes.txt
          ```
        </div>
        
        <div className="border p-3 rounded-md mt-4">
          <h4 className="font-bold">Viewing Results</h4>
          <p className="text-sm">Show cracked passwords:</p>
          ```bash
          john --show password_hashes.txt
          ```
          
          <p className="text-sm mt-2">Show detailed statistics:</p>
          ```bash
          john --status
          ```
          
          <p className="text-sm mt-2">Show session information:</p>
          ```bash
          john --status=NAME
          ```
        </div>
      </div>
    </div>
  </TabsContent>
  <TabsContent value="config">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 className="font-semibold">Configuration Files</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">John.conf Location</h4>
          <p className="text-sm">The main configuration file is typically located at:</p>
          <ul className="text-sm list-disc pl-5">
            <li>System-wide: <code>/etc/john/john.conf</code></li>
            <li>User-specific: <code>~/.john/john.conf</code></li>
            <li>Jumbo version: <code>john/run/john.conf</code></li>
          </ul>
          
          <p className="text-sm mt-2">You can specify a custom config file with:</p>
          ```bash
          john --config=/path/to/john.conf password_hashes.txt
          ```
        </div>
        
        <div className="border p-3 rounded-md mt-4">
          <h4 className="font-bold">Configuration Sections</h4>
          <p className="text-sm">The configuration file contains several sections:</p>
          <ul className="text-sm list-disc pl-5">
            <li><strong>List.Rules</strong>: Word mangling rules</li>
            <li><strong>Incremental</strong>: Brute-force attack settings</li>
            <li><strong>Options</strong>: Global options</li>
            <li><strong>External</strong>: External mode functions</li>
          </ul>
        </div>
      </div>
      
      <div>
        <h3 className="font-semibold">Custom Configuration</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Creating Custom Rules</h4>
          <p className="text-sm">Add custom rules to your john.conf file:</p>
          ```
          [List.Rules:MyCustomRules]
          # Append two digits
          $[0-9]$[0-9]
          # Capitalize first letter and append "!"
          c$!
          # Replace 'a' with '@'
          sa@
          ```
          
          <p className="text-sm mt-2">Use your custom rules:</p>
          ```bash
          john --wordlist=wordlist.txt --rules=MyCustomRules password_hashes.txt
          ```
        </div>
        
        <div className="border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 dark:bg-blue-900/20 mt-4">
          <h4 className="font-bold">Pro Tip</h4>
          <p className="text-sm">You can create multiple rule sets for different scenarios:</p>
          <ul className="text-sm list-disc pl-5">
            <li><strong>Simple</strong>: Basic transformations for quick tests</li>
            <li><strong>Thorough</strong>: Comprehensive rules for deeper testing</li>
            <li><strong>Custom</strong>: Target-specific rules based on reconnaissance</li>
          </ul>
        </div>
      </div>
    </div>
  </TabsContent>
  <TabsContent value="formats">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 className="font-semibold">Supported Hash Formats</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Listing Available Formats</h4>
          <p className="text-sm">View all supported hash formats:</p>
          ```bash
          john --list=formats
          ```
          
          <p className="text-sm mt-2">View formats with detailed information:</p>
          ```bash
          john --list=format-details
          ```
        </div>
        
        <div className="border p-3 rounded-md mt-4">
          <h4 className="font-bold">Common Hash Formats</h4>
          <table className="w-full text-xs mt-2">
            <thead className="bg-muted">
              <tr>
                <th className="text-left p-2">Format Name</th>
                <th className="text-left p-2">Description</th>
              </tr>
            </thead>
            <tbody>
              <tr className="border-b">
                <td className="p-2"><code>raw-md5</code></td>
                <td className="p-2">Raw MD5 hashes</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>raw-sha1</code></td>
                <td className="p-2">Raw SHA1 hashes</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>bcrypt</code></td>
                <td className="p-2">bcrypt password hashes</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>descrypt</code></td>
                <td className="p-2">Traditional Unix DES crypt</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>md5crypt</code></td>
                <td className="p-2">FreeBSD MD5 crypt</td>
              </tr>
              <tr className="border-b">
                <td className="p-2"><code>sha512crypt</code></td>
                <td className="p-2">SHA-512 crypt</td>
              </tr>
              <tr>
                <td className="p-2"><code>mscash2</code></td>
                <td className="p-2">MS Cache Hash 2 (Windows)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div>
        <h3 className="font-semibold">Working with Hash Formats</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Auto-Detection</h4>
          <p className="text-sm">John can automatically detect many hash formats:</p>
          ```bash
          # Auto-detect hash format
          john hashes.txt
          ```
          
          <p className="text-sm mt-2">For better performance, specify the format:</p>
          ```bash
          # Specify hash format for better performance
          john --format=raw-md5 hashes.txt
          ```
        </div>
        
        <div className="border p-3 rounded-md mt-4">
          <h4 className="font-bold">Format-Specific Options</h4>
          <p className="text-sm">Some formats have specific options:</p>
          ```bash
          # Set OpenMP thread count for bcrypt
          john --format=bcrypt-opencl --fork=4 hashes.txt
          
          # Use GPU acceleration for raw-md5
          john --format=raw-md5-opencl hashes.txt
          ```
        </div>
        
        <div className="border-l-4 border-yellow-500 pl-4 py-2 bg-yellow-50 dark:bg-yellow-900/20 mt-4">
          <h4 className="font-bold">Important Note</h4>
          <p className="text-sm">Hash format names may differ between John versions:</p>
          <ul className="text-sm list-disc pl-5">
            <li>Core version uses shorter names (e.g., <code>md5</code>)</li>
            <li>Jumbo version uses more descriptive names (e.g., <code>raw-md5</code>)</li>
            <li>Always check available formats with <code>--list=formats</code></li>
          </ul>
        </div>
      </div>
    </div>
  </TabsContent>
</Tabs>

## Command Line Options

<Stepper>
  <StepperItem title="Basic Options">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 className="font-semibold">General Options</h3>
        <table className="w-full text-sm mt-2">
          <thead className="bg-muted">
            <tr>
              <th className="text-left p-2">Option</th>
              <th className="text-left p-2">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr className="border-b">
              <td className="p-2"><code>--help</code></td>
              <td className="p-2">Show help information</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--version</code></td>
              <td className="p-2">Show version information</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--list=WHAT</code></td>
              <td className="p-2">List capabilities (formats, subformats, etc.)</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--test[=TIME]</code></td>
              <td className="p-2">Run tests and benchmarks</td>
            </tr>
            <tr>
              <td className="p-2"><code>--users=[-]LOGIN|UID[,..]</code></td>
              <td className="p-2">Only process specified user accounts</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div>
        <h3 className="font-semibold">Example Usage</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Listing Capabilities</h4>
          <p className="text-sm">List all available options:</p>
          ```bash
          john --list=help
          ```
          
          <p className="text-sm mt-2">List supported hash formats:</p>
          ```bash
          john --list=formats
          ```
          
          <p className="text-sm mt-2">Run benchmarks:</p>
          ```bash
          john --test
          ```
        </div>
        
        <div className="border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 dark:bg-blue-900/20 mt-4">
          <h4 className="font-bold">Pro Tip</h4>
          <p className="text-sm">Use benchmarks to determine the most efficient attack method for your hardware:</p>
          ```bash
          # Benchmark specific formats
          john --test --format=raw-md5
          john --test --format=bcrypt
          ```
        </div>
      </div>
    </div>
  </StepperItem>
  
  <StepperItem title="Attack Mode Options">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 className="font-semibold">Wordlist Mode</h3>
        <table className="w-full text-sm mt-2">
          <thead className="bg-muted">
            <tr>
              <th className="text-left p-2">Option</th>
              <th className="text-left p-2">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr className="border-b">
              <td className="p-2"><code>--wordlist=FILE</code></td>
              <td className="p-2">Use wordlist from FILE</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--stdin</code></td>
              <td className="p-2">Read words from standard input</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--pipe</code></td>
              <td className="p-2">Like --stdin, but bulk reads</td>
            </tr>
            <tr>
              <td className="p-2"><code>--encoding=NAME</code></td>
              <td className="p-2">Input encoding (e.g., UTF-8, ISO-8859-1)</td>
            </tr>
          </tbody>
        </table>
        
        <h3 className="font-semibold mt-4">Rules Mode</h3>
        <table className="w-full text-sm mt-2">
          <thead className="bg-muted">
            <tr>
              <th className="text-left p-2">Option</th>
              <th className="text-left p-2">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr className="border-b">
              <td className="p-2"><code>--rules[=SECTION]</code></td>
              <td className="p-2">Enable word mangling rules</td>
            </tr>
            <tr>
              <td className="p-2"><code>--rules-stack=SECTION[,..]</code></td>
              <td className="p-2">Stack rules from multiple sections</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div>
        <h3 className="font-semibold">Incremental Mode</h3>
        <table className="w-full text-sm mt-2">
          <thead className="bg-muted">
            <tr>
              <th className="text-left p-2">Option</th>
              <th className="text-left p-2">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr className="border-b">
              <td className="p-2"><code>--incremental[=MODE]</code></td>
              <td className="p-2">Incremental mode (brute force)</td>
            </tr>
            <tr>
              <td className="p-2"><code>--mask=MASK</code></td>
              <td className="p-2">Mask mode using custom character sets</td>
            </tr>
          </tbody>
        </table>
        
        <h3 className="font-semibold mt-4">External Mode</h3>
        <table className="w-full text-sm mt-2">
          <thead className="bg-muted">
            <tr>
              <th className="text-left p-2">Option</th>
              <th className="text-left p-2">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td className="p-2"><code>--external=MODE</code></td>
              <td className="p-2">External mode or word filter</td>
            </tr>
          </tbody>
        </table>
        
        <div className="border p-3 rounded-md mt-4">
          <h4 className="font-bold">Example Usage</h4>
          <p className="text-sm">Dictionary attack with rules:</p>
          ```bash
          john --wordlist=wordlist.txt --rules password_hashes.txt
          ```
          
          <p className="text-sm mt-2">Incremental brute-force attack:</p>
          ```bash
          john --incremental=all password_hashes.txt
          ```
          
          <p className="text-sm mt-2">Mask attack for 8-digit PINs:</p>
          ```bash
          john --mask='?d?d?d?d?d?d?d?d' password_hashes.txt
          ```
        </div>
      </div>
    </div>
  </StepperItem>
  
  <StepperItem title="Session Management">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h3 className="font-semibold">Session Options</h3>
        <table className="w-full text-sm mt-2">
          <thead className="bg-muted">
            <tr>
              <th className="text-left p-2">Option</th>
              <th className="text-left p-2">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr className="border-b">
              <td className="p-2"><code>--session=NAME</code></td>
              <td className="p-2">Name a session</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--restore[=NAME]</code></td>
              <td className="p-2">Restore a session</td>
            </tr>
            <tr className="border-b">
              <td className="p-2"><code>--status[=NAME]</code></td>
              <td className="p-2">Show session status</td>
            </tr>
            <tr>
              <td className="p-2"><code>--pot=NAME</code></td>
              <td className="p-2">Specify pot file</td>
            </tr>
          </tbody>
        </table>
        
        <div className="bg-muted p-3 rounded-md mt-4">
          <h4 className="font-bold">Session Files</h4>
          <p className="text-sm">John creates several files during operation:</p>
          <ul className="text-sm list-disc pl-5">
            <li><strong>john.pot</strong>: Stores cracked passwords</li>
            <li><strong>john.log</strong>: Log file with session information</li>
            <li><strong>john.rec</strong>: Recovery file for sessions</li>
          </ul>
          <p className="text-sm mt-2">These are typically stored in <code>~/.john/</code> directory.</p>
        </div>
      </div>
      
      <div>
        <h3 className="font-semibold">Managing Sessions</h3>
        <div className="bg-muted p-3 rounded-md mt-2">
          <h4 className="font-bold">Creating Named Sessions</h4>
          <p className="text-sm">Start a named session:</p>
          ```bash
          john --session=project1 --wordlist=wordlist.txt hashes.txt
          ```
          
          <p className="text-sm mt-2">You can interrupt this session with Ctrl+C and resume it later.</p>
        </div>
        
        <div className="border p-3 rounded-md mt-4">
          <h4 className="font-bold">Resuming Sessions</h4>
          <p className="text-sm">Resume a named session:</p>
          ```bash
          john --restore=project1
          ```
          
          <p className="text-sm mt-2">Resume the last session:</p>
          ```bash
          john --restore
          ```
        </div>
        
        <div className="border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 dark:bg-blue-900/20 mt-4">
          <h4 className="font-bold">Pro Tip</h4>
          <p className="text-sm">For long-running cracking jobs, always use named sessions:</p>
          ```bash
          # Start a comprehensive cracking session
          john --session=client_audit --wordlist=large.txt \
            --rules=All --format=bcrypt hashes.txt
          
          # Check status later
          john --status=client_audit
          
          # Resume if needed
          john --restore=client_audit
          ```
        </div>
      </div>
    </div>
  </StepperItem>
</Stepper>

## Working with Password Files

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
  <div>
    <h3 className="font-semibold">Supported File Formats</h3>
    <div className="bg-muted p-3 rounded-md mt-2">
      <h4 className="font-bold">Unix Password Files</h4>
      <p className="text-sm">John can directly process Unix password files:</p>
      <ul className="text-sm list-disc pl-5">
        <li><code>/etc/passwd</code>: Traditional Unix password file</li>
        <li><code>/etc/shadow</code>: Shadow password file</li>
      </ul>
      
      <p className="text-sm mt-2">Combine passwd and shadow files:</p>
      ```bash
      unshadow /etc/passwd /etc/shadow > combined.txt
      john combined.txt
      ```
    </div>
    
    <div className="border p-3 rounded-md mt-4">
      <h4 className="font-bold">Windows Password Hashes</h4>
      <p className="text-sm">Process Windows password hashes:</p>
      ```bash
      # From SAM and SYSTEM files
      john --format=nt sam_hashes.txt
      
      # From NTDS.dit
      john --format=nt ntds_hashes.txt
      ```
    </div>
  </div>
  
  <div>
    <h3 className="font-semibold">Hash Extraction Utilities</h3>
    <div className="bg-muted p-3 rounded-md mt-2">
      <h4 className="font-bold">Built-in Extraction Tools</h4>
      <p className="text-sm">John includes utilities to extract hashes from various file formats:</p>
      <table className="w-full text-xs mt-2">
        <thead className="bg-muted">
          <tr>
            <th className="text-left p-2">Utility</th>
            <th className="text-left p-2">Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr className="border-b">
            <td className="p-2"><code>zip2john</code></td>
            <td className="p-2">Extract hashes from ZIP archives</td>
          </tr>
          <tr className="border-b">
            <td className="p-2"><code>rar2john</code></td>
            <td className="p-2">Extract hashes from RAR archives</td>
          </tr>
          <tr className="border-b">
            <td className="p-2"><code>pdf2john</code></td>
            <td className="p-2">Extract hashes from PDF documents</td>
          </tr>
          <tr className="border-b">
            <td className="p-2"><code>office2john</code></td>
            <td className="p-2">Extract hashes from MS Office documents</td>
          </tr>
          <tr>
            <td className="p-2"><code>ssh2john</code></td>
            <td className="p-2">Extract hashes from SSH private keys</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div className="border p-3 rounded-md mt-4">
      <h4 className="font-bold">Using Hash Extraction Tools</h4>
      <p className="text-sm">Extract hash from a ZIP file:</p>
      ```bash
      zip2john protected.zip > zip_hash.txt
      john zip_hash.txt
      ```
      
      <p className="text-sm mt-2">Extract hash from a PDF file:</p>
      ```bash
      pdf2john document.pdf > pdf_hash.txt
      john pdf_hash.txt
      ```
    </div>
  </div>
</div>

<Note title="Security Reminder" type="warning">
  <p>Always ensure you have proper authorization before attempting to crack password hashes. Unauthorized password cracking is illegal and unethical.</p>
  
  <p className="mt-2">When working with real password hashes during authorized penetration tests:</p>
  <ul className="list-disc pl-5 mt-1">
    <li>Store hash files securely with appropriate access controls</li>
    <li>Delete hash files and cracked passwords when they are no longer needed</li>
    <li>Never share cracked passwords or hash files with unauthorized individuals</li>
    <li>Document all actions taken with password hashes in your penetration test report</li>
  </ul>
</Note>

In the next section, we'll explore different password cracking techniques in detail, including dictionary attacks, brute-force attacks, and rule-based attacks.

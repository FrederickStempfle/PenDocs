---
title: Enumerating Database Structure
description: Learn how to explore database structure and schema using SQLMap
---

# Enumerating Database Structure

<Tabs defaultValue="overview" className="pt-5 pb-1">
  <TabsList>
    <TabsTrigger value="overview">Overview</TabsTrigger>
    <TabsTrigger value="strategy">Strategy</TabsTrigger>
    <TabsTrigger value="targets">Key Targets</TabsTrigger>
  </TabsList>
  <TabsContent value="overview">
    Once you've confirmed a SQL injection vulnerability, the next step is to enumerate the database structure to understand what data is available. SQLMap provides comprehensive tools for mapping out database schemas, tables, and columns systematically.
  </TabsContent>
  <TabsContent value="strategy">
    An effective database enumeration strategy follows this pattern:
    
    1. **Identify the DBMS** - Determine what database system you're working with
    2. **List all databases** - Get a complete picture of available databases
    3. **Focus on promising databases** - Target databases with likely sensitive data
    4. **Enumerate tables** - Identify tables within target databases
    5. **Examine table structures** - Review column names to locate sensitive data
    6. **Prioritize extraction targets** - Focus on tables/columns with valuable information
  </TabsContent>
  <TabsContent value="targets">
    When enumerating databases, pay special attention to:
    
    - **User tables** - Often named `users`, `members`, `accounts`, `customers`
    - **Authentication tables** - Look for `admin`, `administrators`, `staff`
    - **Financial data** - Tables like `orders`, `payments`, `transactions`
    - **Personal information** - Tables containing `profiles`, `details`, `contacts`
    - **Configuration data** - Tables with `settings`, `config`, `parameters`
  </TabsContent>
</Tabs>

## Database Enumeration Process

<Stepper>
  <StepperItem title="List All Databases">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Command</h4>
        
        ```bash
        sqlmap -u "http://www.example.com/vuln.php?id=1" --dbs
        ```
        
        <p className="text-sm mt-2">This retrieves all database names accessible to the current user.</p>
      </div>
      <div>
        <h4>Tips</h4>
        <ul>
          <li>Look for non-default database names that might contain application data</li>
          <li>Note system databases like <code>information_schema</code> or <code>master</code> for potential privilege escalation</li>
          <li>Use <code>--exclude-sysdbs</code> to filter out system databases</li>
        </ul>
      </div>
    </div>
  </StepperItem>
  
  <StepperItem title="Identify Current Database">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Command</h4>
        
        ```bash
        sqlmap -u "http://www.example.com/vuln.php?id=1" --current-db
        ```
        
        <p className="text-sm mt-2">Identifies the database currently in use by the application.</p>
      </div>
      <div>
        <h4>Tips</h4>
        <ul>
          <li>The current database often contains the most relevant application data</li>
          <li>This is usually the fastest way to find the main application database</li>
          <li>Use <code>-D database_name</code> to specify a database for further enumeration</li>
        </ul>
      </div>
    </div>
  </StepperItem>
  
  <StepperItem title="List Tables in Database">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Command</h4>
        
        ```bash
        sqlmap -u "http://www.example.com/vuln.php?id=1" \
          -D database_name --tables
        ```
        
        <p className="text-sm mt-2">Lists all tables in the specified database.</p>
      </div>
      <div>
        <h4>Tips</h4>
        <ul>
          <li>Look for tables with names like <code>users</code>, <code>admin</code>, <code>accounts</code></li>
          <li>Tables with <code>config</code> or <code>settings</code> may contain valuable information</li>
          <li>Use <code>--search</code> to find tables matching specific patterns</li>
        </ul>
      </div>
    </div>
  </StepperItem>
  
  <StepperItem title="Examine Table Structure">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Command</h4>
        
        ```bash
        sqlmap -u "http://www.example.com/vuln.php?id=1" \
          -D database_name -T table_name --columns
        ```
        
        <p className="text-sm mt-2">Reveals column names and data types in the specified table.</p>
      </div>
      <div>
        <h4>Tips</h4>
        <ul>
          <li>Look for columns like <code>username</code>, <code>password</code>, <code>email</code></li>
          <li>Note data types to understand what information might be stored</li>
          <li>Columns with names containing <code>hash</code> or <code>salt</code> often store credentials</li>
        </ul>
      </div>
    </div>
  </StepperItem>
</Stepper>

## Advanced Enumeration Techniques

<Tabs defaultValue="schema" className="pt-5 pb-1">
  <TabsList>
    <TabsTrigger value="schema">Schema Mapping</TabsTrigger>
    <TabsTrigger value="counting">Record Counting</TabsTrigger>
    <TabsTrigger value="search">Search Features</TabsTrigger>
  </TabsList>
  
  <TabsContent value="schema">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Complete Schema Extraction</h4>
        
        ```bash
        sqlmap -u "http://www.example.com/vuln.php?id=1" --schema
        ```
        
        <p>This command retrieves the complete database schema, including all databases, tables, and columns. It provides a comprehensive view of the database structure.</p>
      </div>
      <div>
        <h4>Tips & Considerations</h4>
        <ul>
          <li>Can generate large outputs for complex databases</li>
          <li>Use <code>--output-dir=path</code> to save results for later analysis</li>
          <li>Consider <code>--exclude-sysdbs</code> to focus on application databases</li>
          <li>For large environments, target specific databases instead</li>
        </ul>
      </div>
    </div>
  </TabsContent>
  
  <TabsContent value="counting">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Counting Table Records</h4>
        
        ```bash
        sqlmap -u "http://www.example.com/vuln.php?id=1" \
          -D database_name -T table_name --count
        ```
        
        <p>This command returns the number of records in a table without retrieving the actual data.</p>
      </div>
      <div>
        <h4>Benefits</h4>
        <ul>
          <li>Assess table size before attempting data extraction</li>
          <li>Identify potentially valuable tables based on record count</li>
          <li>Plan extraction strategy for large tables</li>
          <li>Minimize unnecessary data retrieval</li>
        </ul>
      </div>
    </div>
  </TabsContent>
  
  <TabsContent value="search">
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <h4>Targeted Search Features</h4>
        
        ```bash
        # Search for tables matching a pattern
        sqlmap -u "http://www.example.com/vuln.php?id=1" \
          --search -T admin
        
        # Search for columns matching a pattern
        sqlmap -u "http://www.example.com/vuln.php?id=1" \
          --search -C password
        ```
        
        <p>These commands search for specific patterns in table or column names across all accessible databases.</p>
      </div>
      <div>
        <h4>Common Search Targets</h4>
        <ul>
          <li>Tables: <code>user</code>, <code>admin</code>, <code>account</code>, <code>member</code></li>
          <li>Columns: <code>password</code>, <code>credit</code>, <code>ssn</code>, <code>email</code></li>
          <li>Configuration: <code>config</code>, <code>setting</code>, <code>parameter</code></li>
          <li>Sensitive data: <code>secret</code>, <code>token</code>, <code>key</code></li>
        </ul>
      </div>
    </div>
  </TabsContent>
</Tabs>

